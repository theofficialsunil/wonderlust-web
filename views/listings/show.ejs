<% layout('layouts/boilerplate') %>

<div class="container my-5">
  <div class="card shadow-sm border-0 mx-auto" style="max-width: 800px; border-radius: 16px;">
    <img 
      src="<%= listing.image %>" 
      alt="<%= listing.title %>" 
      class="card-img-top" 
      style="border-radius: 16px 16px 0 0; height: 400px; object-fit: cover;"
    />

    <div class="card-body">
      <h2 class="card-title fw-bold mb-3"><%= listing.title %></h2>
      <p class="text-muted mb-2">
        <i class="bi bi-geo-alt-fill text-danger"></i>
        <%= listing.location %>, <%= listing.country %>
      </p>

      <h5 class="text-dark fw-semibold mb-2">â‚¹<%= listing.price %></h5>

      <p class="text-secondary mb-4"><%= listing.description || "No description provided." %></p>

      <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
        <a href="/listings/<%= listing._id %>/edit" class="btn btn-outline-primary px-4">
          âœï¸ Edit
        </a>

        <form 
          action="/listings/<%= listing._id %>?_method=DELETE" 
          method="POST" 
          onsubmit="return confirm('Are you sure you want to delete this listing?');"
        >
          <button type="submit" class="btn btn-outline-danger px-4">
            ğŸ—‘ï¸ Delete
          </button>
        </form>

        <a href="/listings" class="btn btn-light border px-4">
          â† Back to Listings
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  .btn-outline-primary {
    border-color: #ff385c;
    color: #ff385c;
  }
  .btn-outline-primary:hover {
    background-color: #ff385c;
    color: white;
  }
  .btn-outline-danger {
    border-color: #e0314b;
    color: #e0314b;
  }
  .btn-outline-danger:hover {
    background-color: #e0314b;
    color: white;
  }
  .btn-light:hover {
    background-color: #f5f5f5;
  }
</style>
